{% extends '@Drop/base.html.twig' %}
{% block main_content %}
    <div class="wrapper">
        <div class="row">
            <div class="col-md-12">
                <div class="order-status">
                    <ul>
                        <li id="all">
                            <button type="button" class="btn btn-default btn-xs">Все <span class="badge">{{ status_count.new }}</span></button>
                        </li>
                        <li id="new">
                            <button type="button" class="btn btn-info btn-xs">Новый <span class="badge">{{ status_count.new }}</span></button>
                        </li>
                        <li id="in-progress">
                            <button type="button" class="btn btn-info btn-xs">В обработке <span class="badge">{{ status_count.in_processing }}</span></button>
                        </li>
                        <li id="accepted">
                            <button type="button" class="btn btn-success btn-xs">Подтвержденный <span class="badge">{{ status_count.confirmed }}</span></button>
                        </li>
                        <li id="rejected">
                            <button type="button" class="btn btn-danger btn-xs">Отклоненный <span class="badge">{{ status_count.rejected }}</span></button>
                        </li>
                        <li id="shipped">
                            <button type="button" class="btn btn-success btn-xs">Отправленный <span class="badge">{{ status_count.shipped }}</span></button>
                        </li>
                        <li id="non-payment">
                            <button type="button" class="btn btn-danger btn-xs">Невыкуп <span class="badge">{{ status_count.non_purchase }}</span></button>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <a href="{{ path('user_action.new_order') }}" class="btn btn-success"><i class="fas fa-folder-plus"></i>  Добавить заказ</a>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div class="all-orders-table" style="overflow-x:auto;">
                    <table class="table table-striped">
                        <tr>
                            <th scope="col">№ Заказа</th>
                            <th scope="col">Дата создания</th>
                            <th scope="col">Название товаров</th>
                            <th scope="col">Статус</th>
                            <th scope="col">Сумма продажи</th>
                            <th scope="col">Сумма покупки</th>
                            <th scope="col">Доход</th>
                            <th scope="col">Телефон клиента</th>
                            <th scope="col">Имя клиента</th>
                            <th scope="col">ТТН</th>
                            <th scope="col">Адрес доставки</th>
                            <th scope="col">Комментарий</th>
                        </tr>
                        {% for order in orders %}
                            <tr>
                                <th scope="row">{{ order.id }}</th>
                                <td>{{ order.createdAt|date }}</td>
                                <td>
                                    {% for product in order.products %}
                                        {{ product }}<br/>
                                    {% endfor %}
                                </td>
                                <td>{{ order.status }}</td>
                                <td>{{ order.saleAmount }}</td>
                                <td>{{ order.purchaseAmount }}</td>
                                <td>{{ order.income }}</td>
                                <td>{{ order.clientPhone }}</td>
                                <td>{{ order.clientName }}</td>
                                <td>{{ order.waybill }}</td>
                                <td>{{ order.deliveryAddress }}</td>
                                <td>{{ order.comment }}</td>
                            </tr>
                        {% endfor %}
                    </table>
                </div>
            </div>
        </div>
    </div>
{% endblock main_content %}
